<style>
	
	* { /* Style leak test. * is the strongest and underline leaks in Chrome. With other selectors, there are no leaks. */
		
		font-size: 20px; 
		color: green; 
		text-decoration: underline;
		font-weight: bold;
		font-style: italic;

	}

</style>

<p>Outside</p>

<div id="app"></div>

<p>Outside</p>

<script>

	let app_container = null;

	if (!document.body.attachShadow) {
		
		console.log('Shadow DOM unsupported. Use iframe.')
		
	} else {
	
		const shadowRoot = document.getElementById('app').attachShadow({mode: 'open'});
		shadowRoot.innerHTML = `
		  <style> #container { all: initial; } </style>
		  <link rel=stylesheet href=shadow-style.css type=text/css>
		  <div id="container">Content in the shadow, without style leaks</div>
		`;
		
		app_container = shadowRoot.getElementById('container');

		let script = document.createElement('script');
		script.setAttribute('src', 'shadow-script.js');
		app_container.appendChild(script);

		console.log('Shadow DOM entry point:', app_container); // Insert the shadow content into app_container
		
	}
	
</script>

<a href=https://github.com/radogado/shadow-dom-demo>GitHub page</a>
